datasource db {
  provider = "mongodb"
  url      = env("MONGO_LOGIN")
}

generator client {
  provider = "prisma-client-js"
}

model Warn {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  reason    String
  createdAt DateTime @default(now())
  guild     String
  user      String

  @@unique([guild, user])
}

model UserLimit {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  guild String
  user  String
  type  String
  limit Int

  @@unique([guild, user, type])
}

model Limit {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  guild String
  type  String
  limit Int

  @@unique([guild, type])
}

model Whitelist {
  id    String   @id @default(auto()) @map("_id") @db.ObjectId
  guild String   @unique
  users String[]
}

model LogsChannel {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  guild   String @unique
  channel String
}

model SuggestionsChannel {
  ID      String @id @default(auto()) @map("_id") @db.ObjectId
  guild   String @unique
  channel String
}

model Punish {
  id     String @id @default(auto()) @map("_id") @db.ObjectId
  guild  String @unique
  option String
}

model Suggestion {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  title     String
  body      String
  approved  Boolean  @default(false)
  createdAt DateTime @default(now())
  guild     String
  author    String

  @@unique([guild, author])
}
